limparBancoDeDados

contaInexistente=echo 5678
expectError "id da conta inexistente" modificarConta idConta=${contaInexistente}
expectError "id da conta inexistente" removerConta idConta=${contaInexistente}
expectError "id da conta inexistente" getContaDono idConta=${contaInexistente}
expectError "id da conta inexistente" getContaDescricao idConta=${contaInexistente}
expectError "id da conta inexistente" getContas idConta=${contaInexistente}

novaDescricao="BB"
donoInexistente=echo 1234
expectError "id do dono inexistente" adicionarConta descricao="BB" idDono=${donoInexistente}

idUser=adicionarUsuario login="caba_rico" nome="artur" senha="123"
idConta=adicionarConta descricao="BB" idDono=${idUser}
expectError "descricao jah existente" adicionarConta descricao="BB" idDono=${idUser}

expect "BB" getContaDescricao idConta=${idConta}
expect ${idUser} getContaDono idConta=${idConta}

modificarConta idConta=${idConta} novaDescricao="CEF"
expect "CEF" getContaDescricao idConta=${idConta}

expect "[${idConta}]" getContas idUsuario=${idUser}

idConta2=adicionarConta descricao="BB" idDono=${idUser}
expect "[${idConta}, ${idConta2}]" getContas idUsuario=${idUser}

removerConta idConta=${idConta2}
removerConta idConta=${idConta}

expectError "id da conta inexistente" getContaDescricao idConta=${idConta}
expectError "id da conta inexistente" getContaDescricao idConta=${idConta2}

expect "[]" getContas idUsuario=${idUser}

limparBancoDeDados
