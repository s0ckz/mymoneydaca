#User Story 10
#Gerar relat�rio

#Chamada a facade
#public void generateReport(String login, String begin, String end, String operationType, long idAccount, boolean commitments)

usuario=echo "felipe"
senha=echo "teste"
nome=echo "Joao Felipe"
sexo=echo "M"
email=echo "joaofso@somewhere.com"

tipoCredito=echo "credit"
tipoDebito=echo "debt"
forma=echo "cash"
quantia=echo "10"

#Prepara��o - Um usuario efetua cadastro, se autentica, cadastra uma conta, insere duas opera��es (uma na conta default e outra 
#na conta cadastrada), e um compromisso
register login=${usuario} password=${senha} name=${nome} gender=${sexo} eMail=${email}
doLogin login=${usuario} password=${senha}
expect true isLogged login=${usuario}
expect "Joao Felipe" getUserName login=${usuario}
expect "M" getUserGender login=${usuario}
expect "joaofso@somewhere.com" getUserEmail login=${usuario}
op1Id=addOperationIntoDefaultAccount ${usuario} ${tipoCredito} ${forma} ${quantia}
acc1=createAccount ${usuario} "Conta Banco do Brasil" "1591-1" "12856-2" 
op2Id=addOperation ${usuario} ${acc1} ${tipoDebito} ${forma} ${quantia}
addCommitment login=${usuario} label="Financiamento" date="15/04/2009" amount=450.0, type="debt" frequency="monthly"

#Cen�rio 1 - O usu�rio pede um relatorio de todas as suas movimentacoes, apenas da conta default entre o dia 1/11/2008 at� 31/03/2009
generateReport login=${usuario} begin="1/11/2008" end="31/03/2009" operationType="" idAccount=${op1Id} commitments=false
expect 1 getNumberOfOperationsReport
expect 1 getNumberOfCreditOperationsReport
expect 0 getNumberOfDebtOperationsReport
expect 0 getNumberOfCommitmentsReport

#Cen�rio 2 - O usu�rio pede o relatorio de todas as suas movimenta��es de todas as contas, entre o dia 1/11/2008 at� 31/03/2009
generateReport login=${usuario} begin="1/11/2008" end="31/03/2009" operationType="" idAccount="-1" commitments=false
expect 2 getNumberOfOperationsReport
expect 1 getNumberOfCreditOperationsReport
expect 1 getNumberOfDebtOperationsReport
expect 0 getNumberOfCommitmentsReport

#Cen�rio 3 - O usu�rio pede o relat�rio apenas das opera��es de cr�dito de todas as contas juntamente com os compromissos agendados
generateReport login=${usuario} begin="" end="" operationType="credit" idAccount="-1" commitments=true
expect 1 getNumberOfOperationsReport
expect 1 getNumberOfCreditOperationsReport
expect 0 getNumberOfDebtOperationsReport
expect 1 getNumberOfCommitmentsReport

#Cen�rio 4 - O usu�rio pede todas as informa��es cadastradas no sistema
generateReport login=${usuario} begin="" end="" operationType="" idAccount="-1" commitments=true
expect 2 getNumberOfOperationsReport
expect 1 getNumberOfCreditOperationsReport
expect 1 getNumberOfDebtOperationsReport
expect 1 getNumberOfCommitmentsReport