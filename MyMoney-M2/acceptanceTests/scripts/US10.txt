#User Story 10
#Gerar relat�rio

#Chamada a facade
#public void generateReport(String login String begin String end String operationType long idAccount boolean commitments)

cleanAll

usuario=echo "felipe"
senha=echo "teste"
nome=echo "Joao Felipe"
sexo=echo "M"
email=echo "joaofso@somewhere.com"

tipoCredito=echo "credit"
tipoDebito=echo "debt"
forma=echo "cash"
quantia=echo "10"

#Prepara��o - Um usuario efetua cadastro se autentica cadastra uma conta insere duas opera��es (uma na conta default e outra 
#na conta cadastrada) e um compromisso
register login=${usuario} password=${senha} name=${nome} gender=${sexo} eMail=${email}
doLogin login=${usuario} password=${senha}
expect true isLogged login=${usuario}
expect "Joao Felipe" getUserName login=${usuario}
expect "M" getUserGender login=${usuario}
expect "joaofso@somewhere.com" getUserEmail login=${usuario}
op1Id=addOperationIntoDefaultAccount ${usuario} ${tipoCredito} ${forma} ${quantia}
acc1=createAccount ${usuario} "Conta Banco do Brasil" "1591-1" "12856-2" 
op2Id=addOperation ${usuario} ${acc1} ${tipoDebito} ${forma} ${quantia}
addCommitment login=${usuario} label="Financiamento" date="15/04/2009" amount=450.0  type="debt" frequency="monthly"

#Cen�rio 1 
generateReportsOperations login=${usuario} begin="1/11/2008" end="31/03/2009" idAccount=${op1Id} typeOperation=${tipoCredito}
expect 1 getReports login=${usuario}

#Cen�rio 2 
generateReportCreditOperations login=${usuario} begin="1/11/2008" end="31/03/2009" idAccount=${op1Id}
expect 2 getReports login=${usuario}


#Cen�rio 3
generateReportDebitOperations login=${usuario} begin="1/11/2008" end="31/03/2009" idAccount=${op1Id}
expect 3 getReports login=${usuario}


cleanAll


